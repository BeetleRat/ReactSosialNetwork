"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[983],{3588:function(t,e,r){r.d(e,{Z:function(){return i}});var n="ErrorMessage_formSummaryError__Vh-aa",s=r(184),i=function(t){var e=t.error;return(0,s.jsx)("span",{children:e&&(0,s.jsx)("div",{className:n,children:(0,s.jsx)("p",{children:e})})})}},9958:function(t,e,r){r.d(e,{Z:function(){return o}});var n="Preloader_preloaderStyle__CtlpX",s=r.p+"static/media/preloder.04e93c58013770ba7dfd.gif",i=r(184),o=function(t){return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("img",{src:s,alt:"Loading image"})})}},3486:function(t,e,r){r.d(e,{Z:function(){return h}});var n=r(1413),s=r(4942),i=r(5987),o="ValidatedTextarea_formControl__pjV-W",u="ValidatedTextarea_error__QfE5k",a=r(1694),c=r.n(a),d=r(184),l=["input","meta"],h=function(t){var e=t.input,r=t.meta,a=(0,i.Z)(t,l),h=r.touched&&r.error;return(0,d.jsxs)("div",{className:c()(o,(0,s.Z)({},u,h)),children:[(0,d.jsx)("div",{children:(0,d.jsx)("textarea",(0,n.Z)((0,n.Z)({},e),a))}),h&&(0,d.jsx)("span",{children:r.error})]})}},7286:function(t,e,r){r.r(e),r.d(e,{default:function(){return H}});var n=r(5671),s=r(3144),i=r(136),o=r(2882),u=r(2791),a=r(8687),c="ProfileInfo_contentStyle__YPEvr",d={},l=r(184),h=function(t){var e=t.text,r=t.likes;return(0,l.jsxs)("div",{className:d.postStyle,children:[(0,l.jsx)("div",{children:e}),(0,l.jsxs)("div",{children:["\u041b\u0430\u0439\u043a\u0438: ",r]})]})},p=r(6139),x=r(704),m=r(8726),f=r(3486),j=(0,m.B)(15),v=(0,x.Z)({form:"post"})((function(t){return(0,l.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(p.Z,{id:"newPostText",name:"newPostText",placeholder:"\u041e\u0442\u0432\u0435\u0442",component:f.Z,validate:[m.l,j]})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{id:"addPostButton",name:"addPostButton",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})})]})})),b=function(t){var e=t.addNewPost,r=t.posts;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"\u041f\u043e\u0441\u0442\u044b"}),(0,l.jsx)(v,{onSubmit:function(t){return e(t.newPostText)}})]}),(0,l.jsx)("div",{children:r.map((function(t){return(0,l.jsx)(h,{text:t.text,likes:t.likes},t.id)}))})]})},S=r(9958),F=r(885),Z="ProfileDescription_photoStyle__7TzP5",P=r(7714),_=function(t){return(0,l.jsx)("div",{children:t.editMode?(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"statusInput",children:[(0,l.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),": "]}),(0,l.jsx)("input",{id:"statusInput",name:"statusInput",type:"text",value:t.status,onChange:t.changeInputTextStatus,onBlur:t.editModeOFF,autoFocus:!0})]}):(0,l.jsx)("div",{children:(0,l.jsxs)("p",{name:"status",onDoubleClick:t.editModeON,children:[(0,l.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),": ",t.status?t.status:"No status."]})})})},y=u.memo((function(t){var e=(0,u.useState)(!1),r=(0,F.Z)(e,2),n=r[0],s=r[1],i=(0,u.useState)(t.status),o=(0,F.Z)(i,2),a=o[0],c=o[1];(0,u.useEffect)((function(){return c(t.status)}),[t.status]);return(0,l.jsx)(_,{editMode:n,status:a,changeInputTextStatus:function(t){var e=t.target.value;c(e)},editModeOFF:function(e){s(!1);var r=e.target.value;t.updateStatus(t.authUserID,r)},editModeON:function(){s(!0)}})})),D="Contact_contact__h4U90",w=function(t){var e=t.contactTitle,r=t.contactValue;return(0,l.jsxs)("div",{className:D,children:[(0,l.jsx)("b",{children:e}),": ",r]})},k=function(t){var e=t.isOwner,r=t.user,n=t.editModeON;return(0,l.jsxs)("div",{children:[e&&(0,l.jsx)("button",{onClick:n,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,l.jsxs)("p",{name:"country",children:[(0,l.jsx)("b",{children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),": ",r.country]}),(0,l.jsxs)("p",{name:"city",children:[(0,l.jsx)("b",{children:"\u0413\u043e\u0440\u043e\u0434"}),": ",r.city]}),r.lookingForAJob?(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": ",r.searchJobDescription]}):"",(0,l.jsxs)("div",{name:"contacts",children:[(0,l.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":",Object.keys(r.contacts).filter((function(t){return r.contacts[t].length>0})).map((function(t){return(0,l.jsx)(w,{contactTitle:t,contactValue:r.contacts[t]},t)}))]})]})},I=r(7581),g=r(3588),U=(0,x.Z)({form:"ProfileForm"})((function(t){return(0,l.jsxs)(I.Z,{onSubmit:t.handleSubmit,children:[t.isOwner&&(0,l.jsx)("button",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,l.jsx)(g.Z,{error:t.error}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"countryEdit",children:[(0,l.jsx)("b",{children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),": "]}),(0,l.jsx)(p.Z,{id:"countryEdit",name:"country",type:"text",component:"input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"cityEdit",children:[(0,l.jsx)("b",{children:"\u0413\u043e\u0440\u043e\u0434"}),": "]}),(0,l.jsx)(p.Z,{id:"cityEdit",name:"city",type:"text",component:"input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"lookingForAJobEdit",children:[(0,l.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": "]}),(0,l.jsx)(p.Z,{id:"lookingForAJobEdit",name:"lookingForAJob",type:"checkbox",component:"input"})]}),(0,l.jsxs)("div",{name:"contacts",children:[(0,l.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":",Object.keys(t.user.contacts).map((function(t){return(0,l.jsxs)("div",{id:t,children:[(0,l.jsxs)("label",{id:"".concat(t,"EditLabel"),htmlFor:"".concat(t,"Edit"),children:[(0,l.jsx)("b",{children:t}),": "]}),(0,l.jsx)(p.Z,{id:"".concat(t,"Edit"),name:"contacts.".concat(t),type:"text",component:"input"})]})}))]})]})})),O=r(1413),E=r(4942),N=r(5987),C="ValidatedFile_formControl__By-Ux",M="ValidatedFile_error__eMKBh",T=r(1694),V=r.n(T),A=["value"],B=["input","meta"],R=function(t){var e=t.input,r=(e.value,(0,N.Z)(e,A)),n=t.meta,s=(0,N.Z)(t,B),i=n.touched&&n.error;return(0,l.jsxs)("div",{className:V()(C,(0,E.Z)({},M,i)),children:[(0,l.jsx)("div",{children:(0,l.jsx)("input",(0,O.Z)((0,O.Z)({type:"file"},r),s))}),i&&(0,l.jsx)("span",{children:n.error})]})},J=(0,x.Z)({form:"PhotoEditForm"})((function(t){return(0,l.jsxs)(I.Z,{onSubmit:t.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(p.Z,{name:"newPhoto",component:R,validate:m.l})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0444\u043e\u0442\u043e"})}),(0,l.jsx)(g.Z,{error:t.error})]})})),L=function(t){var e=(0,u.useState)(!1),r=(0,F.Z)(e,2),n=r[0],s=r[1];return(0,l.jsx)("div",{children:n?(0,l.jsxs)("div",{children:[(0,l.jsx)(J,{onSubmit:function(e){var r=e.newPhoto[0];t.savePhoto(t.authUserID,r).then((function(){return s(!1)}))}}),(0,l.jsx)("button",{onClick:function(){return s(!1)},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})]}):(0,l.jsx)("button",{onClick:function(){return s(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})})},q=function(t){var e=(0,u.useState)(!1),r=(0,F.Z)(e,2),n=r[0],s=r[1];return(0,l.jsxs)("div",{name:"profileDescription",children:[(0,l.jsx)("h3",{name:"nickname",children:t.user.nickname}),(0,l.jsx)("img",{name:"photo",className:Z,src:""===t.user.imgURL?P:t.user.imgURL,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),t.isOwner&&(0,l.jsx)(L,{savePhoto:t.savePhoto,authUserID:t.authUserID}),(0,l.jsx)(y,{status:t.user.status,setStatus:t.setStatus,updateStatus:t.updateStatus,authUserID:t.authUserID}),n?(0,l.jsx)(U,{isOwner:t.isOwner,user:t.user,initialValues:t.user,onSubmit:function(e){t.updateUserDataFromForm(t.user,e).then((function(){s(!1)}))}}):(0,l.jsx)(k,{isOwner:t.isOwner,user:t.user,editModeON:function(){s(!0)}})]})},G=function(t){return t.user?(0,l.jsxs)("div",{className:c,children:[(0,l.jsx)(q,{user:t.user,isOwner:t.isOwner,setStatus:t.setStatus,updateStatus:t.updateStatus,authUserID:t.authUserID,savePhoto:t.savePhoto,updateUserDataFromForm:t.updateUserDataFromForm}),(0,l.jsx)(b,{posts:t.posts,addNewPost:t.addPost})]}):(0,l.jsx)(S.Z,{})},Q=r(3600),X=r(8931),z=r(7781),K=function(t){return t.profilePage.user},W=function(t){return t.profilePage.postsArray},Y=r(315),$=function(t){(0,i.Z)(r,t);var e=(0,o.Z)(r);function r(){var t;(0,n.Z)(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={userID:23,isOwner:!1,needRedirect:!1},t}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,r){this.props.match.params.userID!==t.match.params.userID&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var t=this.props.match.params.userID,e=!1;t||(this.props.isAuth?t=this.props.authUserID:(t=23,e=!0)),this.setState({userID:t,isOwner:t===this.props.authUserID,needRedirect:e}),e||this.props.setProfile(t)}},{key:"render",value:function(){return this.state.needRedirect?(0,l.jsx)(X.l_,{to:"/login"}):(0,l.jsx)(G,{user:this.props.user,posts:this.props.posts,isOwner:this.state.isOwner,addPost:this.props.addPost,setStatus:this.props.setStatus,updateStatus:this.props.updateStatus,authUserID:this.props.authUserID,savePhoto:this.props.savePhoto,updateUserDataFromForm:this.props.updateUserDataFromForm})}}]),r}(u.PureComponent),H=(0,z.qC)(X.EN,(0,a.$j)((function(t){return{user:K(t),posts:W(t),authUserID:(0,Y.oX)(t),isAuth:(0,Y.Od)(t)}}),{addPost:Q.q2,setProfile:Q.RG,updateStatus:Q.Nf,setStatus:Q.Tf,savePhoto:Q.Ju,updateUserDataFromForm:Q.QG}))($)},8726:function(t,e,r){r.d(e,{B:function(){return s},l:function(){return n}});var n=function(t){if(!t)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},s=function(t){return function(e){if(e&&e.length>t)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 ".concat(t," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}},7581:function(t,e,r){var n=r(3366),s=r(4578),i=r(2791),o=r(2007),u=r.n(o),a=r(8286),c=function(t){function e(e){var r;if(r=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return r}(0,s.Z)(e,t);var r=e.prototype;return r.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},r.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},r.render=function(){var t=this.props,e=(t._reduxForm,(0,n.Z)(t,["_reduxForm"]));return i.createElement("form",e)},e}(i.Component);c.propTypes={onSubmit:u().func.isRequired,_reduxForm:u().object},e.Z=(0,a.V5)(c)}}]);
//# sourceMappingURL=983.85a59ca6.chunk.js.map