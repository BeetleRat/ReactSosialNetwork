"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[504],{7104:function(t,e,n){n.d(e,{Z:function(){return s}});var r="ErrorMessage_formSummaryError__Vh-aa",i=(n(2791),n(184)),s=function(t){var e=t.error;return(0,i.jsx)("span",{children:e&&(0,i.jsx)("div",{className:r,children:(0,i.jsx)("p",{children:e})})})}},5539:function(t,e,n){var r=n(6139),i=(n(2791),n(184));e.Z=function(t,e,n,s,o){return(0,i.jsxs)("span",{children:[(null===o||void 0===o?void 0:o.label)&&(0,i.jsx)("label",{htmlFor:t,children:null===o||void 0===o?void 0:o.label}),(0,i.jsx)(r.Z,{name:t,type:e,component:n,validate:s,placeholder:null===o||void 0===o?void 0:o.placeholder,onChange:function(t){null!==o&&void 0!==o&&o.onChange&&(null===o||void 0===o||o.onChange(t))}})]})}},7389:function(t,e,n){n.d(e,{Z:function(){return o}});var r="Preloader_preloaderStyle__CtlpX",i=n.p+"static/media/preloder.04e93c58013770ba7dfd.gif",s=(n(2791),n(184)),o=function(t){return(0,s.jsx)("div",{className:r,children:(0,s.jsx)("img",{src:i,alt:"Loading image"})})}},7229:function(t,e,n){n.d(e,{Z:function(){return h}});var r=n(1413),i=n(4942),s=n(5987),o="ValidatedTextarea_formControl__pjV-W",a="ValidatedTextarea_error__QfE5k",c=n(1694),u=n.n(c),l=(n(2791),n(184)),d=["input","meta"],h=function(t){var e=t.input,n=t.meta,c=(0,s.Z)(t,d),h=n.touched&&n.error;return(0,l.jsxs)("div",{className:u()(o,(0,i.Z)({},a,h)),children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",(0,r.Z)((0,r.Z)({},e),c))}),h&&(0,l.jsx)("span",{children:n.error})]})}},933:function(t,e,n){n.r(e),n.d(e,{default:function(){return H}});var r=n(9439),i=n(2791),s=n(8687),o="OnePost_postStyle__JWtXC",a=n(184),c=function(t){var e=t.text,n=t.likes;return(0,a.jsxs)("div",{className:o,children:[(0,a.jsx)("div",{children:e}),(0,a.jsxs)("div",{children:["\u041b\u0430\u0439\u043a\u0438: ",n]})]})},u=n(7581),l=n(704),d=n(6735),h=n(7229),x=n(5539),f=(0,d.B)(15),j=(0,l.Z)({form:"post"})((function(t){return(0,a.jsxs)(u.Z,{onSubmit:t.handleSubmit,children:[(0,x.Z)("newPostText","text",h.Z,[d.l,f],{placeholder:"\u0422\u0435\u043a\u0441\u0442"}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{id:"addPostButton",name:"addPostButton",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})})]})})),p=function(t){var e=t.addNewPost,n=t.posts;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"\u041f\u043e\u0441\u0442\u044b"}),(0,a.jsx)(j,{onSubmit:function(t){return e(t.newPostText)}})]}),(0,a.jsx)("div",{children:n.map((function(t){return(0,a.jsx)(c,{text:t.text,likes:t.likes},t.id)}))})]})},v=n(7389),m="ProfileDescription_photoStyle__7TzP5",b=n(7714),Z=function(t){return(0,a.jsx)("div",{children:t.editMode?(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"statusInput",children:[(0,a.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),": "]}),(0,a.jsx)("input",{id:"statusInput",name:"statusInput",type:"text",value:t.status,onChange:t.changeInputTextStatus,onBlur:t.editModeOFF,autoFocus:!0})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("p",{onDoubleClick:t.editModeON,children:[(0,a.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),": ",t.status?t.status:"No status."]})})})},g=function(t){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),s=n[0],o=n[1],c=(0,i.useState)(t.status),u=(0,r.Z)(c,2),l=u[0],d=u[1];(0,i.useEffect)((function(){return d(t.status)}),[t.status]);return(0,a.jsx)(Z,{editMode:s,status:l,changeInputTextStatus:function(t){var e=t.target.value;d(e)},editModeOFF:function(e){o(!1);var n=e.target.value;t.updateStatus(t.authUserID,n)},editModeON:function(){o(!0)}})},F=i.memo(g),S="Contact_contact__h4U90",_=function(t){var e=t.contactTitle,n=t.contactValue;return(0,a.jsxs)("div",{className:S,children:[(0,a.jsx)("b",{children:e}),": ",n]})},P=function(t){var e=t.isOwner,n=t.profile,r=t.editModeON;return(0,a.jsxs)("div",{children:[e&&(0,a.jsx)("button",{onClick:r,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),": ",n.country]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"\u0413\u043e\u0440\u043e\u0434"}),": ",n.city]}),n.lookingForAJob?(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": ",n.searchJobDescription]}):"",(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":",Object.keys(n.contacts).filter((function(t){return n.contacts[t].length>0})).map((function(t){return(0,a.jsx)(_,{contactTitle:t,contactValue:n.contacts[t]},t)}))]})]})},k=n(6139),w=n(7104),y=(0,l.Z)({form:"ProfileForm"})((function(t){var e=(0,i.useState)(t.initialValues.lookingForAJob),n=(0,r.Z)(e,2),s=n[0],o=n[1];return(0,a.jsxs)(u.Z,{onSubmit:t.handleSubmit,children:[t.isOwner&&(0,a.jsx)("button",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,a.jsx)(w.Z,{error:t.error}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"country",children:[(0,a.jsx)("b",{children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),": "]}),(0,x.Z)("country","text","input",[])]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"city",children:[(0,a.jsx)("b",{children:"\u0413\u043e\u0440\u043e\u0434"}),": "]}),(0,x.Z)("city","text","input",[])]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"lookingForAJobEdit",children:[(0,a.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": "]}),(0,a.jsx)(k.Z,{id:"lookingForAJobEdit",name:"lookingForAJob",type:"checkbox",component:"input",onChange:function(t){var e=t.currentTarget.checked;o(e)}}),s&&(0,a.jsx)("span",{children:(0,a.jsx)(k.Z,{id:"searchJobDescriptionEdit",name:"searchJobDescription",type:"text",component:"input"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":",Object.keys(t.profile.contacts).map((function(t){return(0,a.jsxs)("div",{id:t,children:[(0,a.jsxs)("label",{id:"".concat(t,"EditLabel"),htmlFor:"".concat(t,"Edit"),children:[(0,a.jsx)("b",{children:t}),": "]}),(0,a.jsx)(k.Z,{id:"".concat(t,"Edit"),name:"contacts.".concat(t),type:"text",component:"input"})]})}))]})]})})),O=n(1413),D=n(4942),C=n(5987),N="ValidatedFile_formControl__By-Ux",U="ValidatedFile_error__eMKBh",I=n(1694),E=n.n(I),T=["value"],J=["input","meta"],M=function(t){var e=t.input,n=(e.value,(0,C.Z)(e,T)),r=t.meta,i=(0,C.Z)(t,J),s=r.touched&&r.error;return(0,a.jsxs)("div",{className:E()(N,(0,D.Z)({},U,s)),children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",(0,O.Z)((0,O.Z)({type:"file"},n),i))}),s&&(0,a.jsx)("span",{children:r.error})]})},V=(0,l.Z)({form:"PhotoEditForm"})((function(t){return(0,a.jsxs)(u.Z,{onSubmit:t.handleSubmit,children:[(0,x.Z)("newPhoto","file",M,[d.l]),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0444\u043e\u0442\u043e"})}),(0,a.jsx)(w.Z,{error:t.error})]})})),A=function(t){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),s=n[0],o=n[1];return(0,a.jsx)("div",{children:s?(0,a.jsxs)("div",{children:[(0,a.jsx)(V,{onSubmit:function(e){var n=e.newPhoto[0];t.savePhoto(t.authUserID,n),o(!1)}}),(0,a.jsx)("button",{onClick:function(){return o(!1)},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})]}):(0,a.jsx)("button",{onClick:function(){return o(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})})},B=function(t){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),s=n[0],o=n[1];return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:t.profile.nickname}),(0,a.jsx)("img",{className:m,src:""===t.profile.imgURL?b:t.profile.imgURL,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),t.isOwner&&(0,a.jsx)(A,{savePhoto:t.savePhoto,authUserID:t.authUserID}),(0,a.jsx)(F,{status:t.profile.status,updateStatus:t.updateStatus,authUserID:t.authUserID}),s?(0,a.jsx)(y,{isOwner:t.isOwner,profile:t.profile,initialValues:t.profile,onSubmit:function(e){t.updateUserDataFromForm(t.profile,e),o(!1)}}):(0,a.jsx)(P,{isOwner:t.isOwner,profile:t.profile,editModeON:function(){o(!0)}})]})},L=function(t){return t.profile?(0,a.jsxs)("div",{children:[(0,a.jsx)(B,{profile:t.profile,isOwner:t.isOwner,updateStatus:t.updateStatus,authUserID:t.authUserID,savePhoto:t.savePhoto,updateUserDataFromForm:t.updateUserDataFromForm}),(0,a.jsx)(p,{posts:t.posts,addNewPost:t.addPost})]}):(0,a.jsx)(v.Z,{})},X=n(5098),Q=n(1087),R=n(7689),W=n(7781),q=function(t){return t.profilePage.profile},z=function(t){return t.profilePage.postsArray},G=n(4895),H=(0,W.qC)(i.memo)((function(t){var e=(0,i.useState)(23),n=(0,r.Z)(e,2),o=(n[0],n[1]),c=(0,i.useState)(!1),u=(0,r.Z)(c,2),l=u[0],d=u[1],h=(0,i.useState)(!1),x=(0,r.Z)(h,2),f=x[0],j=x[1],p=(0,s.v9)(q),v=(0,s.v9)(z),m=(0,s.v9)(G.oX),b=(0,s.v9)(G.Od),Z=(0,s.I0)(),g=(0,Q.lr)(),F=(0,r.Z)(g,2),S=F[0],_=(F[1],(0,R.TH)());(0,i.useEffect)((function(){return P()}),[_.search]);var P=function(){var t=Number(S.get("userID")),e=!1;t||(b&&m?t=m:(t=23,e=!0)),o(t),d(t===m),j(e),e||Z((0,X.w1)(t))};return f||null==p||null==m?(0,a.jsx)(R.Fg,{to:"/login"}):(0,a.jsx)(L,{profile:p,posts:v,isOwner:l,authUserID:m,addPost:function(t){Z(X.Nw.addPost(t))},updateStatus:function(t,e){Z((0,X.Nf)(t,e))},savePhoto:function(t,e){Z((0,X.Ju)(t,e))},updateUserDataFromForm:function(t,e){Z((0,X.QG)(t,e))}})}))},6735:function(t,e,n){n.d(e,{B:function(){return i},l:function(){return r}});var r=function(t){if(!t)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},i=function(t){return function(e){if(e&&e.length>t)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 ".concat(t," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}},7714:function(t,e,n){t.exports=n.p+"static/media/defaultAvatar.4ce1ce10ce20ffcefb44.png"}}]);
//# sourceMappingURL=504.b03fb7bb.chunk.js.map