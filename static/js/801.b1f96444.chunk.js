"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[801],{7389:function(e,n,r){r.d(n,{Z:function(){return i}});var t="Preloader_preloaderStyle__CtlpX",a=r.p+"static/media/preloder.04e93c58013770ba7dfd.gif",s=(r(2791),r(184)),i=function(e){return(0,s.jsx)("div",{className:t,children:(0,s.jsx)("img",{src:a,alt:"Loading image"})})}},1727:function(e,n,r){r.r(n),r.d(n,{default:function(){return O}});var t=r(9439),a=r(8687),s=r(9059),i=r(2791),u="Users_usersStyle__icRf1",c="User_userStyle__AfgQP",g="User_userPhotoStyle__ibgbp",l=r(1087),o=r(7714),f=r(184),d=function(e){return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)(l.OL,{to:"/profile?userID="+e.id,children:(0,f.jsx)("img",{className:g,src:""===e.imgURL?o:e.imgURL})}),(0,f.jsxs)("div",{children:["\u0418\u043c\u044f: ",e.name]}),(0,f.jsxs)("div",{children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",e.status]}),(0,f.jsx)("div",{children:e.isAuth?(0,f.jsx)("button",{onClick:function(){return function(e){e.followed?e.unfollowUser(e.id):e.followUser(e.id)}(e)},disabled:e.fetchingUsers.some((function(n){return n===e.id})),children:e.followed?"Unfollow":"Follow"}):(0,f.jsx)("br",{})}),(0,f.jsx)("hr",{})]})},h=r(3433),P=r(4942),x="PageNumbers_page__seKfQ",j="PageNumbers_selectedPage__iXA3m",p=r(1694),m=r.n(p),v=function(e){var n=e.currentPage,r=e.pages,t=e.changePage;return(0,f.jsx)("span",{children:r.map((function(e){return(0,f.jsx)("span",{onClick:function(){return t(e)},className:m()(x,(0,P.Z)({},j,n===e)),children:e},e)}))})},U=r(4066),_=function(e){var n=Math.floor(2.5),r=Math.ceil(e.totalItems/e.pageSize),t=[];if(r<=5){for(var a=1;a<=r;a++)t.push(a);return(0,f.jsx)("div",{children:(0,f.jsx)(v,{currentPage:e.currentPage,pages:t,changePage:e.changePage})})}t.push(e.currentPage);for(var s=1;s<=n;s++){var i=e.currentPage+s>r?e.currentPage-n-(s+1-r+e.currentPage):e.currentPage+s,u=e.currentPage-s<1?e.currentPage+n+(s+1-e.currentPage):e.currentPage-s;t=u>i?u>e.currentPage?[].concat((0,h.Z)(t),[i,u]):[i,u].concat((0,h.Z)(t)):[u].concat((0,h.Z)(t),[i])}return t.includes(1)?(t.shift(),(0,f.jsxs)("div",{children:[(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:[1]}),(0,f.jsx)(U.Z,{count:3}),(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:t}),(0,f.jsx)("span",{children:"..."}),(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:[r]})]})):t.includes(r)?(t.pop(),(0,f.jsxs)("div",{children:[(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:[1]}),(0,f.jsx)("span",{children:"..."}),(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:t}),(0,f.jsx)(U.Z,{count:3}),(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:[r]})]})):(0,f.jsxs)("div",{children:[(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:[1]}),(0,f.jsx)("span",{children:"..."}),(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:t}),(0,f.jsx)("span",{children:"..."}),(0,f.jsx)(v,{changePage:e.changePage,currentPage:e.currentPage,pages:[r]})]})},w=r(5705),b=function(e){return{}},S=function(e){return(0,f.jsx)(w.J9,{enableReinitialize:!0,initialValues:{term:e.filter.term,friend:String(e.filter.friend)},validate:b,onSubmit:function(n,r){var t=r.setSubmitting,a={term:n.term,friend:null==n.friend||"null"===n.friend?null:"true"===n.friend};e.onFilterChanged(a),t(!1)},children:function(e){var n=e.isSubmitting;return(0,f.jsxs)(w.l0,{children:[(0,f.jsx)(w.gN,{type:"text",name:"term"}),(0,f.jsxs)(w.gN,{name:"friend",as:"select",placeholder:"Friends only",children:[(0,f.jsx)("option",{value:"null",children:"\u0412\u0441\u0435"}),(0,f.jsx)("option",{value:"true",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0434\u0440\u0443\u0437\u044c\u044f"}),(0,f.jsx)("option",{value:"false",children:"\u041a\u0440\u043e\u043c\u0435 \u0434\u0440\u0443\u0437\u0435\u0439"})]}),(0,f.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})},C=function(e){var n=function(n){return e.followUser(e.currentUserID,n)},r=function(n){return e.unfollowUser(e.currentUserID,n)};return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(S,{filter:e.filter,onFilterChanged:e.onFilterChanged}),(0,f.jsx)("hr",{}),(0,f.jsx)(_,{totalItems:e.totalUsers,pageSize:e.pageSize,currentPage:e.currentPage,changePage:e.changePage}),(0,f.jsx)("hr",{}),e.users.map((function(t){return(0,f.jsx)(d,{id:t.id,name:t.name,fetchingUsers:e.fetchingUsers,followed:t.followed,status:t.status,imgURL:t.imgURL,isAuth:e.isAuth,followUser:n,unfollowUser:r},t.id)})),(0,f.jsx)(_,{totalItems:e.totalUsers,pageSize:e.pageSize,currentPage:e.currentPage,changePage:e.changePage})]})},N=r(7389),Z=function(e){return e.userPage.users},A=function(e){return e.userPage.pageSize},F=function(e){return e.userPage.totalUsersCount},k=function(e){return e.userPage.currentPage},z=function(e){return e.userPage.filter},I=function(e){return e.userPage.fetchingUsers},y=function(e){return e.userPage.isLoading},L=r(4895),D=r(7781),R=r(7929),O=(0,D.qC)(R.D,i.memo)((function(e){var n=(0,a.v9)(F),r=(0,a.v9)(Z),u=(0,a.v9)(I),c=(0,a.v9)(A),g=(0,a.v9)(k),o=(0,a.v9)(z),d=(0,a.v9)(y),h=(0,a.v9)(L.Od),P=(0,a.v9)(L.oX),x=(0,a.I0)(),j=(0,l.lr)(),p=(0,t.Z)(j,2),m=p[0],v=p[1];(0,i.useEffect)((function(){var e=null==m.get("page")?g:Number(m.get("page")),n=null==m.get("term")?o.term:m.get("term"),r=null==m.get("friend")?o.friend:"true"===m.get("friend");U(e-1,{term:n,friend:r})}),[]),(0,i.useEffect)((function(){var e={};""!==o.term&&(e.term=o.term),null!==o.friend&&(e.friend=String(o.friend)),1!==g&&(e.page=String(g)),v(e)}),[o,g]);var U=function(e,n){x((0,s.G0)(e,c,n))};return(0,f.jsxs)("div",{children:[d&&(0,f.jsx)(N.Z,{}),(0,f.jsx)(C,{filter:o,users:r,fetchingUsers:u,totalUsers:n,pageSize:c,currentPage:g,isAuth:h,currentUserID:P,changePage:function(e){x(s.Nw.setCurrentPage(e)),U(e-1,o)},followUser:function(e,n){x((0,s.P_)(e,n))},unfollowUser:function(e,n){x((0,s.F6)(e,n))},onFilterChanged:function(e){x(s.Nw.setFilter(e)),U(0,e)}})]})}))},7929:function(e,n,r){r.d(n,{D:function(){return o}});var t=r(1413),a=r(5987),s=r(2791),i=r(8687),u=r(4895),c=r(7689),g=r(184),l=["isAuth"];function o(e){var n=s.memo((function(n){var r=n.isAuth,s=(0,a.Z)(n,l);return r?(0,g.jsx)(e,(0,t.Z)({},s)):(0,g.jsx)(c.Fg,{to:"/login"})}));return(0,i.$j)((function(e){return{isAuth:(0,u.Od)(e)}}),{})(n)}},7714:function(e,n,r){e.exports=r.p+"static/media/defaultAvatar.4ce1ce10ce20ffcefb44.png"}}]);
//# sourceMappingURL=801.b1f96444.chunk.js.map